<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play Alias</title>
    <link rel="stylesheet" href="css/1-start-style.css">
</head>
<body>
<div class="frame">
    <div class="button-container">
        <button id="start-new-game"  class="button-play">Грати Alias
        </button>
        <button id="continue-game" class="button-continue">Продовжити попередню гру
        </button>
        <div>
            <button onclick="window.location.href='/html/gameRating.html'" class="button-ruls">Рейтинг ігор</button>
            <button onclick="window.location.href='/html/ruls-frame.html'" class="button-ruls">Правила гри</button>
        </div>
    </div>
</div>

<script type="module">
    // Очистити одразу після використання:
    import {BASEURL} from "./js/model.js";

    localStorage.removeItem('gameMode');

    import {Notify} from 'notiflix/build/notiflix-notify-aio';

    let startNewGame = document.querySelector("#start-new-game");
    startNewGame.addEventListener("click", async () => {
        let res = await fetch(`${BASEURL}/games/new-room`, {method: 'POST'})
        let room = await res.json()
        console.log('room:', room)
        localStorage.setItem('room', JSON.stringify(room))
        localStorage.setItem('gameMode', 'new'); // нова гра
        Notify.success('Нова гра розпочата!');
        window.location.href='/html/2-team-frame.html';
    });

    document.querySelector("#continue-game").addEventListener("click", async () => {
        localStorage.setItem('gameMode', 'continue'); // нова гра
        window.location.href = '/html/2-team-frame.html';
    });

</script>
<img id="game-map" class="first-background-img" src="img/ALIAS.PNG" alt="Фото приклад">
</body>
